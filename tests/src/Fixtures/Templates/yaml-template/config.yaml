name: Yaml

steps:
  - type: collectBuildInstructions
  - type: processSourceFiles
    options:
      fileConditions:
        - path: dummy-2.yaml
          if: 'false'
        - path: '*-3.yaml'
          if: 'false'
        - path: dummy-4.yaml
          if: 'true'
          target: 'overrides/dummy-4.yaml'
  - type: processSharedSourceFiles
    options:
      fileConditions:
        - path: shared-dummy-2.yaml
          if: 'false'
        - path: 'shared-*-3.yaml'
          if: 'false'
        - path: shared-dummy-4.yaml
          if: 'true'
          target: 'overrides/shared-dummy-4.yaml'
  - type: mirrorProcessedFiles

properties:
  - identifier: foo
    name: Foo
    value: foo
    if: 'false'
  - identifier: bar
    name: Bar
    properties:
      - identifier: name
        name: Name
        type: staticValue
        validators:
          - type: notEmpty
            options:
              strict: true
